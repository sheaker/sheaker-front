<div class="container-fluid">

    <div ng-include="'app/components/admin/navbar/top/top.html'"></div>
    <div ng-include="'app/components/admin/navbar/side/side.html'"></div>
    <div ng-include="'app/components/admin/navbar/subside-general/subside-general.html'"></div>

    <div class="col-lg-12 main">
        <div class="title">
            <span class="color-green fa fa-home"></span>Home
        </div>

        <alert ng-repeat="alert in alerts | limitTo: 4" type="{{ alert.type }}" close="closeAlert($index)">{{ alert.msg }}</alert>

        <div class="col-lg-4" id="SheakerMembership" access="modo, admin">
            <div class="general-box medium-box">
                <div class="box-title color-background-grey-dark">
                    <span class="color-white fa fa-users pull-right"></span>
                    <div class="title-x-small color-white">Total</div>
                </div>
                <div class="content-box reduce-paddin-box">
                    <div class="table-responsive">
                        <table class="table table-striped table-condensed">
                            <tbody>
                                <tr>
                                    <th width="40%">Total clients</th>
                                    <th width="30%">Active</th>
                                    <th width="30%">Inactive</th>
                                </tr>
                                <tr>
                                    <td>{{ stats.total.value }}</td>
                                    <td><span class="color-green">{{ stats.active_memberships.doc_count  }}</span></td>
                                    <td><span class="color-red">{{ stats.total.value - stats.active_memberships.doc_count }}</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped table-condensed">
                            <tbody>
                                <tr>
                                    <th width="40%">Total staff</th>
                                    <th width="20%">User</th>
                                    <th width="20%">Modo</th>
                                    <th width="20%">Admin</th>
                                </tr>
                                <tr>
                                    <td>{{ stats.staff_total.doc_count }}</td>
                                    <td>{{ stats.staff_user.doc_count }}</td>
                                    <td>{{ stats.staff_modo.doc_count }}</td>
                                    <td><span class="color-yellow">{{ stats.staff_admin.doc_count }}</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4" id="Birthdays">
            <div class="general-box medium-box">
                <div class="box-title color-background-grey-dark">
                    <span class="color-white fa fa-birthday-cake pull-right"></span>
                    <div class="title-x-small color-white">Incoming birthday</div>
                </div>
                <div class="content-box reduce-paddin-box">
                    <div class="table-responsive">
                        <table class="table table-striped table-condensed">
                            <tbody>
                                <tr ng-repeat="user in usersList | filter: {hasBirthdayInc: true} | limitTo: 10 | orderBy: 'furtherBirthdate'">
                                    <td width="40%">{{ user.firstName }}</td>
                                    <td width="40%">{{ user.lastName }}</td>
                                    <td width="20%">{{ user.birthdate | date: 'd MMM'}}</td>
                                    <td width="10%"> <a href="#/admin/clients/review/{{ user.customId || user.id }}" tooltip="Review" tooltip-placement="top"><span class="color-grey glyphicon glyphicon-expand fa-lg"></span></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4" id="LastsEntry">
            <div class="general-box medium-box">
                <div class="box-title color-background-grey-dark">
                    <span class="color-white fa fa-street-view pull-right"></span>
                    <div class="title-x-small color-white">Last check-in</div>
                </div>
                <div class="table-responsive">
                    <div class="content-box reduce-paddin-box">
                        <table class="table table-striped table-condensed">
                            <tbody>
                                <tr ng-repeat="ci in lastCheckins">
                                    <td width="45%">{{ ci.first_name }}</td>
                                    <td width="45%">{{ ci.last_name }}</td>
                                    <td width="10%"> <a href="#/admin/clients/review/{{ ci.custom_id || ci.id }}" tooltip="Review" tooltip-placement="top"><span class="color-grey glyphicon glyphicon-expand fa-lg"></span></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4" id="NewClients" access="modo, admin">
            <div class="general-box medium-box">
                <div class="box-title color-background-grey-dark">
                    <span class="color-white fa fa-bookmark pull-right"></span>
                    <div class="title-x-small color-white">New clients</div>
                </div>
                <div class="content-box reduce-paddin-box">
                    <div class="table-responsive">
                        <table class="table table-striped table-condensed">
                            <tbody>
                                <tr ng-repeat="nc in newClients">
                                    <td width="45%">{{ nc.first_name }}</td>
                                    <td width="45%">{{ nc.last_name }}</td>
                                    <td width="10%"> <a href="#/admin/clients/review/{{ nc.custom_id || nc.id }}" tooltip="Review" tooltip-placement="top"><span class="color-grey glyphicon glyphicon-expand fa-lg"></span></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4" id="FinishedMemberships" access="modo, admin">
            <div class="general-box medium-box">
                <div class="box-title color-background-grey-dark">
                    <span class="color-white fa fa-frown-o pull-right"></span>
                    <div class="title-x-small color-white">Ending memberships</div>
                </div>
                <div class="content-box reduce-paddin-box">
                    <div class="table-responsive">
                        <table class="table table-striped table-condensed">
                            <tbody>
                                <tr ng-repeat="em in endingMemberships">
                                    <td width="40%">{{ em.first_name }}</td>
                                    <td width="50%">{{ em.last_name }}</td>
                                    <td width="10%"> <a href="#/admin/clients/review/{{ em.custom_id || em.id }}" tooltip="Review" tooltip-placement="top"><span class="color-grey glyphicon glyphicon-expand fa-lg"></span></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4" id="NewMemberships" access="modo, admin">
            <div class="general-box medium-box">
                <div class="box-title color-background-grey-dark">
                <span class="color-white fa fa-smile-o pull-right"></span>
                <div class="title-x-small color-white">New memberships</div>
            </div>
                <div class="content-box reduce-paddin-box">
                    <div class="table-responsive">
                        <table class="table table-striped table-condensed">
                            <tbody>
                                <tr ng-repeat="nm in newMemberships">
                                    <td width="40%">{{ nm.first_name }}</td>
                                    <td width="40%">{{ nm.last_name }}</td>
                                    <td width="20%">{{ nm.days }} d</td>
                                    <td width="10%"> <a href="#/admin/clients/review/{{ nm.customId || nm.id }}" tooltip="Review" tooltip-placement="top"><span class="color-grey glyphicon glyphicon-expand fa-lg"></span></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
