<div class="container-fluid">

    <div ng-include="'app/components/admin/navbar/top/top.html'"></div>
    <div ng-include="'app/components/admin/navbar/side/side.html'"></div>
    <div ng-include="'app/components/admin/navbar/subside-client/subside-client.html'"></div>

    <div class="col-lg-12 main">
        <div class="title">
            <span class="color-blue fa fa-bar-chart"></span>Review Client
        </div>

        <div class="charge-photo text-center" id="userInfos">
            <img ng-src="{{ user.photo || '//static.sheaker.com/sheaker-gym/assets/images/user_unknow.png' }}" height="240" width="320">
            <div class="client-infos">{{ user.customId || user.id }} - {{ user.firstName }} {{ user.lastName }}</div>
        </div>

        <alert ng-repeat="alert in alerts | limitTo: 4" type="{{ alert.type }}" close="closeAlert($index)">{{ alert.msg }}</alert>

        <div class="col-lg-offset-1 col-lg-5" id="PaymentsHistory">
            <div class="general-box">
                <span class="color-grey fa fa-archive pull-right"></span>
                <div class="title-small">Payment history</div>
                <div class="content-box">
                    <div class="table-responsive">
                        <div class="text-center" ng-hide="user.payments.length">
                            No previous payments.
                        </div>
                        <table class="table table-striped" ng-show="user.payments.length">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Days</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Price</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="p in user.payments">
                                    <td>{{ p.paymentDate | date: 'd MMM' }}</td>
                                    <td>{{ p.days }}</td>
                                    <td>{{ p.startDate | date: 'd MMM' }}</td>
                                    <td>{{ p.endDate | date: 'd MMM' }}</td>
                                    <td>{{ p.price | currency }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-5" id="CheckInHistory">
            <div class="general-box">
                <span class="color-grey fa fa-archive pull-right"></span>
                <div class="title-small">Check-in history</div>
                <div class="content-box">
                    <div class="table-responsive">
                        <div class="content-box reduce-paddin-box">
                            <table class="table table-striped table-condensed">
                                <tbody>
                                    <tr ng-repeat="ci in lastCheckins | orderBy: 'createdAt':true | limitTo: 10">
                                        <td width="40%">{{ user.firstName }}</td>
                                        <td width="40%">{{ user.lastName }}</td>
                                        <td width="20%">{{ user.customId || ci.user.id }}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
